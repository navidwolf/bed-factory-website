{% extends "base.html" %}
{% block title %}Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯{% endblock %}

{% block content %}
<section class="cart-table">
    <h1>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§</h1>

    {% if cart_items %}
        {% for item in cart_items %}
        <div class="cart-item">
            <!-- Ø¹Ú©Ø³ Ù…Ø­ØµÙˆÙ„ -->
            <div class="cart-img">
                <img src="{{ url_for('static', filename='images/' + item.image) }}" alt="{{ item.name }}">
            </div>

            <!-- Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„ -->
            <div class="cart-details">
                <h3>{{ item.name }}</h3>
                <p class="desc">ÛŒÚ© ØªÙˆØ¶ÛŒØ­ Ú©ÙˆØªØ§Ù‡ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø­ØµÙˆÙ„ (Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ ÙÛŒÙ„Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒ)</p>
                <p class="price">{{ "{:,}".format(item.price) }} ØªÙˆÙ…Ø§Ù†</p>
            </div>

            <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´/Ú©Ø§Ù‡Ø´ -->
            <div class="cart-quantity">
                <form method="post" action="{{ url_for('add_to_cart', product_id=item.id) }}">
                    <button type="submit">+</button>
                </form>
                <span>{{ item.quantity if item.quantity else 1 }}</span>
                <form method="post" action="{{ url_for('remove_from_cart', product_id=item.id) }}">
                    <button type="submit">âˆ’</button>
                </form>
                <form method="post" action="{{ url_for('delete_from_cart', product_id=item.id) }}">
                    <button type="submit">ğŸ—‘ï¸</button>
                </form>
            </div>
        </div>
        {% endfor %}

        <!-- Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ù†Ø§Ø±Ù†Ø¬ÛŒ -->
        <div class="invoice-box">
            <p>Ø¬Ù…Ø¹ Ú©Ù„: 
                {{ "{:,}".format(cart_items | sum(attribute='price')) }} ØªÙˆÙ…Ø§Ù†
            </p>
            <a href="{{ url_for('checkout') }}">
                <button>Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø±ÛŒØ¯</button>
            </a>
        </div>
    {% else %}
        <p>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª.</p>
    {% endif %}
</section>
{% endblock %}
