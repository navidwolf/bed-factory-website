{% extends "base.html" %}
{% block title %}محصولات - خرید تخت و سرویس خواب{% endblock %}
{% block description %}لیست محصولات کارخانه تخت خواب - خرید مستقیم تخت خواب، سرویس خواب، تخت دو نفره و تک نفره با کیفیت عالی{% endblock %}
{% block h1 %}محصولات کارخانه تخت خواب{% endblock %}

{% block content %}
<p style="text-align:center; margin-bottom:20px; font-size:16px; color:#555;">
    در این بخش می‌توانید انواع تخت خواب و سرویس خواب تولیدی کارخانه ما را مشاهده کنید.
</p>

<div class="product-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
    {% for product in products %}
    <div class="product-card" 
         style="display:flex; flex-direction:column; align-items:center; text-align:center; border:1px solid #ccc; border-radius:10px; padding:10px; height:100%;">
        
        <div class="tag" style="height:30px; display:flex; justify-content:center; align-items:center; margin-bottom:10px;">
            {% if product.tag %}
                <span style="background:#f39c12; color:white; padding:5px 10px; border-radius:5px;">{{ product.tag }}</span>
            {% endif %}
        </div>

        <div style="width:100%; height:200px; overflow:hidden; margin-bottom:10px;">
            <img src="{{ url_for('static', filename='images/' ~ product.image) }}" 
                 alt="خرید {{ product.name }}" 
                 style="width:100%; height:100%; object-fit:cover; border-radius:5px;" 
                 loading="lazy">
        </div>

        <h3 style="margin:0 0 5px 0;">{{ product.name }}</h3>
        <div class="rating" style="margin-bottom:5px;">⭐ {{ product.rating }}</div>
        <p class="price" style="margin-bottom:10px;">{{ "{:,}".format(product.price) }} تومان</p>

        <div style="display:flex; gap:10px;">
            <a href="{{ url_for('add_to_cart', product_id=product.id) }}" class="btn">افزودن به سبد</a>
            <a href="{{ url_for('product_detail', product_id=product.id) }}" class="btn">جزئیات</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
